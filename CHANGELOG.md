# 更新日誌

本專案的所有重要更改都將記錄在此文件中。

格式基於 [如何維護更新日誌](https://keepachangelog.com/zh-TW/1.1.0/)，
並且本專案遵循 [語意化版本](https://semver.org/lang/zh-TW/spec/v2.0.0.html)。

## [未發布]

### 新增

- 新增通知設定提示。 (#409)
- 新增自動縮放監視器地圖的設定開關。 (#426)

### 更改

- 核心框架更新。
- 移除部分套件以減少封裝大小。
- 更新依賴套件。

### 修正

- 修正部分頁面地點沒有區的問題。 (#402)
- 修正背景自動定位沒有被執行的問題。 (#413) (#417)
- 修正地震速報時 box 顯示問題。 (#415)
- 修正大(豪)雨特報圖層順序問題。 (#418)
- 修正檢知時 box 圖層順序問題。 (#421)

## [3.1.001] - 2025-08-18

### 修正

- iOS手勢返回頁面問題。
- 緊急地震資訊倒數異常。

## [3.1.0] - 2025-08-14

### 新增

- 現在可以點擊通知跳轉地震報告頁面。

### 更改

- 一部分翻新測試通知本文(防災資訊)。
- 更新翻譯。

### 修正

- 修正系統主題色變更問題。
- 修正地震速報倒數顯示異常。
- 修正歷史事件異常。
- 修正重新載入獲取最新資料。

## [3.0.2] - 2025-08-13

### 新增

- 新增地圖圖例。
- 地圖放大後現在會顯示每個觀測點的資料。
- 手動設定所在地現在可以設定多個地點來快速切換。

### 更改

- 贊助頁面邏輯。

### 修正

- 首頁歷史事件時間線順序和時間軸連接線。
- 強震監視器顯示時間數值位移的問題。
- 雷達迴波被世界地圖圖層覆蓋的問題。

## [3.0.014] - 2025-07-23

### 新增

- 新增初始圖層設定。
- 強震監視器時間顯示。

### 更改

- 移除歷史頁面（雷雨、震度速報等）多餘的圖示包層。
- 移除部分套件以減少封裝大小。

### 修正

- 部分 Android 裝置通知權限取得異常的問題。
- Mac 上的 iOS 應用程式無法取得通知權限的問題。

## [3.0.013] - 2025-07-14

### 新增

- 新增雷達回波播放功能。
- 新增地圖動畫幀率設定。

### 更改

- 地區語系選擇改為使用圖示代替國旗。

### 修正

- 震度顯示文字錯誤。
- 繁體中文語系選擇未顯示勾選狀態。
- 部份測試通知無法運作。
- 通知設定未正確同步的問題。
- 事件頁面中 雷達圖層 顯示錯誤的問題。
- 事件頁面中 GPS 圖層顯示錯誤的問題。
- 雷達迴波圖層被底圖樣式遮蓋的問題。
- 修正其他小問題。

## [3.0.012] - 2025-07-09

### 新增

- 新增地圖基礎選擇器功能。
- 新增強震監視器圖層。
- 新增點擊強震監視器通知跳轉到頁面。

### 更改

- 改善 Apple 平台啟動效能，跳過不必要的 FCM 初始化流程。
- 改善 town.json 座標資料。

### 修正

- 修正降雨圖層顯示與隱藏問題。
- 修正 iOS 自動定位功能。
- 修正切換自動定位開關的問題。
- 修正圖片下載錯誤。
- 修正雷雨圖卡導航。
- 修正其他小問題。

## [3.0.011] - 2025-05-31

### 新增

- 新地圖架構 (e28c1bb7dca509cb5878af77c61faabcc34016e2) (4cc4c8f477d19aeb72b1fe274e34be2c0c0bc8a6)
- 新增地震報告 (cf66e3f)

### 更改

- 所在地頁面中隱藏所有 Android 的自啟動提示警告。
- Apple 裝置啟動畫面 icon 改為螢幕寬度的 30%。 (75800b3)
- 重構 Apple 裝置型號對應邏輯。 (f784217)

## [3.0.010] - 2025-05-23

### 更改

- 地圖圖標改使用 sprite (ff3977692fa354d00912d99474e755d512e70421)

### 修正

- 修正即時天氣 API 資料格式變動 (40bc10030706a609e3aef499e5ed9bc61d3ef81d)
- 修正 Android 12+ 裝置啟動畫面重複顯示的問題。

## [3.0.009] - 2025-05-20

### 更改

- 國旗圖示改用內建圖片，App 更輕盈。

### 修正

- 修正 iOS 交易取消後無法再次發起購買的問題。

## [3.0.008] - 2025-05-18

### 新增

- 新增 iOS 啟動畫面 icon。
- 新增 Play 商店更新功能。 (d367c01f2f10395ad7d04e28c8b335d7779779d5)

### 更改

- 移除部分套件以減少封裝大小。
- 移除 iOS 停用 icon 資源。

### 修正

- 修正 Android 自動定位服務 icon 問題。
- 修正 iOS 交易完成後未正確結束導致無法再次購買的問題。
- 修正震度文字顯示錯誤。 (7ff61e6f89be32d95ebe2769d03006e3e39b67de)

## [3.0.007] - 2025-05-12

### 新增

- 合併推播通知設定和通知音效測試頁面。 (4fc8e4f88cfbbed7914020c7a0da347084fe034f)

### 更改

- 更改贊助免責聲明文字。

### 修正

- 修正首頁「雷雨即時訊息」卡片顯示邏輯。
- 修正 iOS 裝置資訊顯示異常。
- 修正通知測試文字描述。

## [3.0.006] - 2025-05-08

### 新增

- 新增贊助免責聲明文字。
- 重新設計更新日誌頁面。
- 新增雷雨即時訊息卡片。
- 新增首頁所在地未設定/服務區域外提示卡片。

### 更改

- 優化贊助頁面。

### 修正

- 首頁所在地按鈕位置未對齊其他按鈕。

## [3.0.005] - 2025-05-06

### 修正

- 修正使用較大顯示器設備時無法接受監控條款的問題。
- 分開消耗性和非消耗性贊助項目。
- 移除贊助價格中多餘的貨幣符號。
- (iOS) 修正裝置資訊值溢出的問題。

## [3.0.004] - 2025-05-05

### 更改

- 將贊助改為使用應用內購買。
- 重構通知聲音測試頁面。

## [3.0.003] - 2025-05-05

## [3.0.002] - 2025-05-03

## [3.0.001] - 2025-05-01

[未發布]: https://github.com/exptechtw/dpip/compare/v3.1.1...HEAD
[3.1.001]: https://github.com/exptechtw/dpip/compare/v3.1.0...v3.1.001
[3.1.0]: https://github.com/exptechtw/dpip/compare/v3.0.2...v3.1.0
[3.0.2]: https://github.com/exptechtw/dpip/compare/v3.0.014...v3.0.2
[3.0.014]: https://github.com/exptechtw/dpip/compare/v3.0.013(2)...v3.0.014
[3.0.013]: https://github.com/exptechtw/dpip/compare/v3.0.012(1)...v3.0.013(2)
[3.0.012]: https://github.com/exptechtw/dpip/compare/v3.0.011...v3.0.012(1)
[3.0.011]: https://github.com/exptechtw/dpip/compare/v3.0.010...v3.0.011
[3.0.010]: https://github.com/exptechtw/dpip/compare/v3.0.009...v3.0.010
[3.0.009]: https://github.com/exptechtw/dpip/compare/v3.0.008...v3.0.009
[3.0.008]: https://github.com/exptechtw/dpip/compare/v3.0.007...v3.0.008
[3.0.007]: https://github.com/exptechtw/dpip/compare/v3.0.006...v3.0.007
[3.0.006]: https://github.com/exptechtw/dpip/compare/v3.0.005...v3.0.006
[3.0.005]: https://github.com/exptechtw/dpip/compare/v3.0.004...v3.0.005
[3.0.004]: https://github.com/exptechtw/dpip/compare/v3.0.003...v3.0.004
[3.0.003]: https://github.com/exptechtw/dpip/compare/v3.0.002...v3.0.003
[3.0.002]: https://github.com/exptechtw/dpip/compare/v3.0.001...v3.0.002
[3.0.001]: https://github.com/exptechtw/dpip/compare/2.5.500...v3.0.001
